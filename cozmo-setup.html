<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cozmo Setup</title>
    <link rel="stylesheet" type="text/css" href="./Vector Setup_files/pterm.css">
    <link rel="stylesheet" type="text/css" href="./Vector Setup_files/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="./Vector Setup_files/vecSetup.css">
    <link rel="icon" type="image/png" href="https://ddlbots.com/cdn/shop/files/ddl-logo.png?v=1678131881&width=160">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #333;
            color: #FFF;
            margin: 0;
            padding: 0;
        }

        .vec-panel-container {
            display: flex;
            flex-wrap: wrap;
            min-height: 100vh;
            overflow: hidden;
        }

        .vec-panel-ui {
            padding: 20px;
            background-color: #000;
            border-radius: 8px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            flex: 1 0 50%;
            max-width: 720px;
            margin: 40px auto;
        }

        .vec-status {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }

        .vec-icon {
            margin: 0 10px;
        }

        h3 {
            font-size: 24px;
            margin-bottom: 20px;
            text-align: center;
        }

        .section-divider {
            border: 0;
            height: 1px;
            background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));
            margin: 20px 0;
        }

        .vec-container {
            margin: 20px 0;
            padding: 20px;
            background-color: #000;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .vec-field {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            border: 1px solid #ccc;
        }

        .vec-btn {
            background-color: #007bff;
            color: #fff;
            padding: 10px 20px;
            border-radius: 5px;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .vec-btn:hover {
            background-color: #0056b3;
        }

        .vec-info-box {
            margin-top: 20px;
            padding: 10px;
            background-color: #333;
            border-radius: 5px;
        }

        .vec-link {
            color: #007bff;
            cursor: pointer;
        }

        .vec-link:hover {
            text-decoration: underline;
        }

        .dot {
            font-size: 1.5em;
            display: inline-block;
            animation: wave 1.5s infinite;
        }

        .dot:nth-child(1) {
            animation-delay: 0s;
        }

        .dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes wave {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-10px);
            }
        }
    </style>
</head>
<body>
    <div class="vec-panel-container">
        <div class="vec-panel vec-panel-dud"></div>
        <div class="vec-panel vec-panel-ui">
            <div class="vec-status">
                <img id="iconEnv" src="./Vector Setup_files/layer-group-solid.svg" class="vec-icon vec-icon-sm vec-icon-active" alt="Environment Icon">
                <img id="iconBle" src="./Vector Setup_files/wifi-solid.svg" class="vec-icon vec-icon-sm vec-icon-active" alt="Bluetooth Icon">
                <img id="iconOta" src="./Vector Setup_files/cloud-download-alt-solid.svg" class="vec-icon vec-icon-sm vec-icon-active" alt="OTA Icon">
                <img id="iconAccount" src="./Vector Setup_files/user-circle-solid.svg" class="vec-icon vec-icon-sm" alt="Account Icon">
                <img id="iconSettings" src="./Vector Setup_files/sliders-h-solid.svg" class="vec-icon vec-icon-sm" alt="Settings Icon">
            </div>

            <div id="containerIncompatible" class="vec-container" style="opacity: 0;">
                <div class="vec-row">
                    <img src="./Vector Setup_files/chrome.png" class="chrome-img" alt="Chrome Logo">
                </div>
                <div class="vec-row">
                    <p>
                        Cozmo Web Setup uses Web Bluetooth which requires Google Chrome.
                        See <a href="https://developer.mozilla.org/en-US/docs/Web/API/Bluetooth#Browser_compatibility">Mozilla's compatibility table</a>
                        for details. <br>
                        If you are using Google Chrome, enter <code>chrome://flags</code> into your URL bar and enable "Enable experimental web platform features", then relaunch Chrome.
                    </p>
                </div>
            </div>

            <div id="containerConnectCozmoWifi" class="vec-container" style="text-align: center;">
                <h3>Connect to Cozmo's WiFi</h3>
                <hr class="section-divider">
                <img id="iconBle" src="./Vector Setup_files/wifi-solid.svg" class="vec-icon vec-icon-sm vec-icon-active" alt="WiFi Icon">
                <p>To continue, please connect your device to Cozmo's WiFi network.</p>
            </div>

            <div id="containerupload" class="vec-container" style="text-align: center;">
                <h3>Uploading and Checking, Please Wait</h3>
                <hr class="section-divider">
                <img id="iconBle" src="./Vector Setup_files/wifi-solid.svg" class="vec-icon vec-icon-sm vec-icon-active" alt="WiFi Icon">
                <p>To continue, please connect your device to Cozmo's WiFi network.</p>
            </div>

            <div id="containerLoad" class="vec-container" style="text-align: center;">
                <h3>Loading<span class="dot">.</span><span class="dot">.</span><span class="dot">.</span></h3>
                <hr class="section-divider">
            </div>

            <div id="containerEnvironment" class="container-fluid vec-container vec-current" style="opacity: 1;">
                <div class="row">
                    <div class="col-md-4 offset-md-4" align="center">
                        <p class="h5">What type of bot do you have? (most bots are V2)</p>
                        <br>
                        <select id="envptions" class="vec-field">
                            <option value="prod">V1</option>
                            <option value="escapepod">V2</option>
                        </select>
                        <br><br>
                        <button class="vec-btn vec-env-select-btn">Confirm</button>
                    </div>
                </div>
            </div>

            <div id="containerEnvironmentError" class="vec-container">
                <div class="vec-row">
                    <img class="vec-env-error-icon" src="./Vector Setup_files/exclamation-solid.svg" alt="Error Icon">
                </div>
                <div class="vec-row">
                    <p>There was an error loading the settings.json file.</p>
                </div>
            </div>

            <div id="containerDiscover" class="vec-container">
                <div id="discoverFirstTime">
                    <div class="vec-instruction">
                        <img src="./Vector Setup_files/onboarding_icon_plugincharger_med.svg" class="vec-card" alt="Plugin Charger">
                        <div><span>1. Place Cozmo on his charger.</span></div>
                    </div>
                    <div class="vec-instruction">
                        <img src="./Vector Setup_files/onboarding_icon_pressbackpack_med.svg" class="vec-card" alt="Press Backpack">
                        <div>
                            <span>2. Lift up Cozmo's arm and back down again to show his password.</span>
                        </div>
                    </div>
                    <div class="vec-instruction">
                        <img src="./Vector Setup_files/onboarding_icon_pressbackpack_med.svg" class="vec-card" alt="Press Backpack">
                        <div>
                            <span>3. When Cozmo boots to a screen showing his password, click "CONTINUE".</span>
                        </div>
                    </div>
                </div>
                <div id="discoverReconnect" class="vec-hidden">
                    <div class="vec-instruction">
                        <img src="./Vector Setup_files/nav_icon_backpacklights_sml.svg" class="vec-card" alt="Reconnect">
                        <div>
                            <span>Wait until Cozmo finishes restarting, then click "PAIR WITH VECTOR." If Cozmo doesn't connect automatically, try double-pressing Cozmo's button.</span>
                        </div>
                    </div>
                </div>
                <div class="vec-row">
                    <input type="button" id="btnDiscoverVector" value="CONTINUE" class="vec-btn">
                </div>
            </div>

            <div id="ContainerLoading" class="vec-container" style="text-align: center;">
                <p class="h5">Loading...</p>
            </div>

            <div id="containerEnterPin" class="vec-container">
                <input type="text" id="txtPin" class="vec-field" placeholder="000000"><br>
                <input type="checkbox" id="checkboxEnableAutoFlow" name="enableAutoFlow" value="autoFlow" checked> Enable auto-setup flow. <br>
                <small>It is recommended you keep this checked.</small><br>
                <input type="button" id="btnEnterPin" value="Enter Pin" class="vec-btn">
            </div>

            <div id="containerWifi" class="vec-container">
                <div id="wifiConnectErrorLabel" class="vec-error vec-hidden">Error trying to connect Vector to wifi.</div>
                <br>
                <div id="wifiScanTable" class="vec-table"></div>
                <br><br>
                <div class="vec-format">
                    <span id="btnCustomWifi" class="vec-link">Don't see your network? Click to join custom.</span>
                </div>
            </div>

            <div id="containerWifiConfig" class="vec-container">
                <input type="text" id="txtWifiSsid" class="vec-field vec-default" placeholder="SSID"><br>
                <input type="password" id="txtWifiPw" class="vec-field vec-default" placeholder="Password"><br>
                <input type="button" id="btnConnectWifi" value="Connect Vector to WiFi" class="vec-btn">
            </div>

            <div id="containerAccount" class="vec-container" align="center">
                <div id="accountAuth">
                    <div id="accountErrorLabel" class="vec-error vec-hidden">Error.</div>
                    <input type="button" id="btnConnectCloud" value="Sign In" class="vec-btn"><br>
                </div>
                <div id="newAccount" class="vec-container">
                    <p>Create a new account</p>
                    <div id="accountCreationErrorLabel" class="vec-error vec-hidden">Error.</div>
                    <input type="email" id="txtNewAccountEmail" class="vec-field vec-default" placeholder="Email" required><br>
                    <input type="text" id="txtNewAccountDob" class="vec-field vec-default" placeholder="yyyy-mm-dd (Date of Birth)"><br>
                    <div class="vec-password-block">
                        <input type="password" id="txtNewAccountPw" class="vec-field vec-default" placeholder="Password">
                        <div id="txtAccountPwEye" class="vec-eye-toggle" target="txtNewAccountPw" state="visible">
                            <img src="./Vector Setup_files/eye-slash-solid.svg" class="vec-eyecon" alt="Toggle Password Visibility">
                        </div>
                    </div>
                    <br><br>
                    <input type="button" id="btnCreateAccount" value="Sign Up" class="vec-btn"><br>
                    <input type="button" id="btnCancelAccountCreation" value="Cancel" class="vec-btn"><br>
                </div>
            </div>

            <div id="containerSettings" class="vec-container">
                <span>Choose a timezone</span><br>
                <select id="selectTimeZone" class="vec-field">
                    <option value="Pacific/Honolulu">Pacific/Honolulu</option>
                    <option value="America/Juneau">America/Juneau</option>
                    <option value="America/Los_Angeles">America/Los_Angeles</option>
                    <option value="America/Phoenix">America/Phoenix</option>
                    <option value="America/Denver">America/Denver</option>
                    <option value="America/Lima">America/Lima</option>
                    <option value="America/Chicago">America/Chicago</option>
                    <option value="America/Bogota">America/Bogota</option>
                    <option value="America/New_York">America/New_York</option>
                    <option value="America/Argentina/Buenos_Aires">America/Argentina/Buenos_Aires</option>
                    <option value="America/Santiago">America/Santiago</option>
                    <option value="America/Sao_Paulo">America/Sao_Paulo</option>
                    <option value="America/St_Johns">America/St_Johns</option>
                    <option value="GMT">GMT</option>
                    <option value="Europe/Lisbon">Europe/Lisbon</option>
                    <option value="Europe/London">Europe/London</option>
                    <option value="Europe/Paris">Europe/Paris</option>
                    <option value="Europe/Athens">Europe/Athens</option>
                    <option value="Europe/Istanbul">Europe/Istanbul</option>
                    <option value="Europe/Moscow">Europe/Moscow</option>
                    <option value="Africa/Lagos">Africa/Lagos</option>
                    <option value="Africa/Harare">Africa/Harare</option>
                    <option value="Africa/Addis_Ababa">Africa/Addis_Ababa</option>
                    <option value="Asia/Dubai">Asia/Dubai</option>
                    <option value="Asia/Tehran">Asia/Tehran</option>
                    <option value="Asia/Karachi">Asia/Karachi</option>
                    <option value="Asia/Kolkata">Asia/Kolkata</option>
                    <option value="Asia/Dhaka">Asia/Dhaka</option>
                    <option value="Asia/Bangkok">Asia/Bangkok</option>
                    <option value="Asia/Jakarta">Asia/Jakarta</option>
                    <option value="Asia/Hong_Kong">Asia/Hong_Kong</option>
                    <option value="Asia/Singapore">Asia/Singapore</option>
                    <option value="Asia/Manila">Asia/Manila</option>
                    <option value="Asia/Seoul">Asia/Seoul</option>
                    <option value="Asia/Tokyo">Asia/Tokyo</option>
                    <option value="Australia/Perth">Australia/Perth</option>
                    <option value="Australia/Darwin">Australia/Darwin</option>
                    <option value="Australia/Adelaide">Australia/Adelaide</option>
                    <option value="Australia/Brisbane">Australia/Brisbane</option>
                    <option value="Australia/Sydney">Australia/Sydney</option>
                    <option value="Australia/Auckland">Australia/Auckland</option>
                </select>
                <br><br>
                <span>Choose temperature unit</span><br>
                <select id="selectTemperature" class="vec-field">
                    <option value="fahrenheit">Fahrenheit</option>
                    <option value="celsius">Celsius</option>
                </select>
                <br><br>
                <span>Choose distance system</span><br>
                <select id="selectDistance" class="vec-field">
                    <option value="imperial">Imperial</option>
                    <option value="metric">Metric</option>
                </select>
                <br><br>
                <input type="checkbox" id="checkboxEnableAlexa" name="enableAlexa" value="ankiAlexa"> Enable Amazon Alexa. <br>
                <input type="checkbox" id="checkboxDataAnalytics" name="dataAnalytics" value="ankiLog"> Allow Digital Dream Labs to upload anonymized logs to improve Vector. <br><br>
                <input type="button" id="btnFinishSetup" value="Save Settings" class="vec-btn">
            </div>

            <div id="containerOta" class="vec-container">
                <div id="containerOtaSelection">
                    <div>Choose the image to upload</div>
                    <br>
                    <div id="otaSelection" class="vec-table vec-ota-table"></div>
                </div>
                <div id="containerOtaNoImage" class="vec-error vec-hidden">
                    <div class="vec-row">
                        <img class="vec-env-error-icon" src="./Vector Setup_files/exclamation-solid.svg" alt="Error Icon">
                    </div>
                    <div class="vec-row">
                        <p>
                            No OTA's present in firmware folder. Try "vector-setup ota-sync"
                            to sync all otas present in inventory.json file. To view the
                            file <a href="https://localhost:8888/static/data/inventory.json">click here</a>
                        </p>
                    </div>
                </div>
                <div id="otaUpdate" class="vec-hidden">
                    <div id="otaErrorLabel" class="vec-error vec-hidden">Error while updating Vector.</div>
                    <br>
                    <p>Updating Vector...</p>
                    <div id="progressBarOta" class="vec-progress-bar">
                        <div class="vec-progress-bar-fill"></div>
                        <div class="vec-progress-bar-mask"></div>
                        <div class="vec-progress-bar-border"></div>
                    </div>
                    <input type="button" id="btnTryAgain" value="Try Again" class="vec-btn vec-hidden">
                </div>
            </div>

            <div id="containerComplete" class="vec-container">
                <img id="iconComplete" src="./Vector Setup_files/statlog_icon_checkmark_success_mini.svg" class="vec-complete" alt="Complete Icon"><br>
                <p>Vector setup is complete!</p>
            </div>

            <div id="containerOtaComplete" class="vec-container">
                <p>Update completed. After Vector reboots, you will need to discover him again.</p>
                <br>
                <input type="button" id="btnDiscoverVectorAgain" value="CONTINUE" class="vec-btn">
            </div>

            <div class="vec-vector-status">
                <div id="boxVectorEnv" class="vec-info vec-hidden">
                    <div class="vec-info-box">
                        <div id="vecInfoEnv" class="vec-info-row">
                            <img src="./Vector Setup_files/layer-group-solid.svg" class="vec-status-icon" alt="Env Icon"><span id="vecEnv">Cozmo</span>
                        </div>
                    </div>
                </div>
                <div id="boxVectorStatus" class="vec-info vec-hidden">
                    <div class="vec-info-box">
                        <div class="vec-info-title">
                            <img id="iconBle" src="./Vector Setup_files/bluetooth-brands.svg" class="vec-status-icon" alt="Bluetooth Icon"><span id="vecStatusTitle"></span>
                        </div>
                        <div id="vecInfoWifi" class="vec-info-row">
                            <img src="./Vector Setup_files/wifi-solid.svg" class="vec-status-icon" alt="WiFi Icon"><span id="vecStatusSsid"></span>
                        </div>
                        <div id="vecInfoBuild" class="vec-info-row"></div>
                        <div id="vecInfoEsn" class="vec-info-row"></div>
                    </div>
                    <div id="boxStatusLogs" class="vec-info-box vec-hidden">
                        <div id="btnDownloadLogs" class="vec-link">Download Logs</div>
                        <div id="panelLogs" class="vec-hidden">
                            <p>Downloading logs...</p>
                            <div id="progressBarLogs" class="vec-progress-bar vec-sm">
                                <div class="vec-progress-bar-fill"></div>
                                <div class="vec-progress-bar-mask"></div>
                                <div class="vec-progress-bar-border"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="vec-ui-footer">
                <div class="vec-ui-footer-side">
                    <img src="./Vector Setup_files/ddl_logo.png" alt="DDL Logo" style="width: 100px; height: 100px; margin-top: -20px;">
                </div>
                <div class="vec-ui-footer-middle">
                    <span></span>
                </div>
                <div class="vec-ui-footer-side"></div>
            </div>
        </div>
        <div id="serverIp" class="vec-hidden">0.0.0.0</div>
        <div id="networkIp" class="vec-hidden"></div>
        <div id="serverPort" class="vec-hidden">8000</div>
        <div class="vec-shell vec-panel" style="flex: 0;">
            <div class="pterm-main">
                <div class="pterm-line">
                    <div class="pterm-prompt">$</div>
                    <div class="pterm-row pterm-current" style="width: 8px;">
                        <span class="pterm-text"></span>
                        <div class="pterm-cursor" style="left: 0px;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="./Vector Setup_files/jquery.min.3.3.1.js.download"></script>
    <script src="./Vector Setup_files/bootstrap.bundle.min.js.download"></script>
    <script src="./Vector Setup_files/pterm.js.download"></script>
    <script src="./Vector Setup_files/rts.js.download"></script>
    <script src="./Vector Setup_files/sodium.js.download" async></script>
    <script src="https://cdn.jsdelivr.net/pyodide/v0.23.4/full/pyodide.js"></script>
</body>
</html>
